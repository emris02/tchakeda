<div class="page-container">
     <button class="btn back-btn" (click)="back()" title="Retour à la liste">
        <i class="fas fa-chevron-left"></i>
        <span class="back-label">Recouvreurs</span>
      </button>
    <h4 class="page-title">Détail du recouvreur</h4>

  <!-- ===================== AFFILIATIONS MODAL ===================== -->
  <div *ngIf="showAffiliationsModal" class="modal-overlay">
    <div class="modal-card large">
      <h5>Gérer les maisons assignées</h5>
      <p>Ajoutez ou retirez des bâtiments et appartements assignés à ce recouvreur.</p>

      <div class="affiliation-grid">
        <!-- Dependent selects header -->
        <div class="affiliation-section" style="grid-column: 1 / -1;">
          <h6>Sélection guidée</h6>
          <div class="dependent-selects">
            <select [(ngModel)]="selectedOwnerId" (change)="onOwnerChange(selectedOwnerId)" class="filter-select">
              <option [ngValue]="null">Choisir un propriétaire</option>
              <option *ngFor="let o of owners" [ngValue]="o.id">{{ o.name }}</option>
            </select>

            <select [(ngModel)]="selectedBuildingToAdd" (change)="onBuildingChange(selectedBuildingToAdd)" class="filter-select">
              <option [ngValue]="null">Choisir un bâtiment</option>
              <option *ngFor="let b of (filteredBuildings.length ? filteredBuildings : allBuildings)"
                      [ngValue]="b.id" [disabled]="isBuildingAffiliated(b.id)">
                {{ b.name }}
              </option>
            </select>

            <select [(ngModel)]="selectedApartmentToAdd" class="filter-select">
              <option [ngValue]="null">Choisir un appartement</option>
              <option *ngFor="let a of (filteredApartmentsByBuilding.length ? filteredApartmentsByBuilding : allApartments)"
                      [ngValue]="a.id" [disabled]="isApartmentAffiliated(a.id)">
                {{ a.name }} ({{ getBuildingName(a.buildingId) }})
              </option>
            </select>

            <button class="btn btn-primary btn-sm" (click)="addBuildingAffiliation()" [disabled]="!selectedBuildingToAdd">Ajouter bâtiment</button>
            <button class="btn btn-primary btn-sm" (click)="addApartmentAffiliation()" [disabled]="!selectedApartmentToAdd">Ajouter appartement</button>
          </div>
        </div>

        <div class="affiliation-section">
          <h6>Bâtiments assignés</h6>
          <div *ngIf="affiliatedBuildingIds && affiliatedBuildingIds.length > 0" class="affiliation-list">
            <div *ngFor="let bId of affiliatedBuildingIds" class="affiliation-row">
              <div class="affiliation-label">{{ getBuildingName(bId) }}</div>
                <div class="affiliation-actions">
                  <button class="btn btn-sm btn-outline-danger" (click)="removeBuildingAffiliation(bId)">Retirer</button>
                  <button class="btn btn-sm btn-primary" (click)="goToBuildingDetail(bId)">Gérer</button>
                </div>
            </div>
          </div>
          <div *ngIf="(!affiliatedBuildingIds || affiliatedBuildingIds.length === 0)" class="muted">Aucun bâtiment assigné.</div>

          <!-- simplified add area handled by header dependent selects -->
        </div>

        <div class="affiliation-section">
          <h6>Appartements assignés</h6>
          <div *ngIf="affiliatedApartmentIds && affiliatedApartmentIds.length > 0" class="affiliation-list">
            <div *ngFor="let aId of affiliatedApartmentIds" class="affiliation-row">
              <div class="affiliation-label">{{ getApartmentName(aId) }}</div>
              <div class="affiliation-actions">
                <button class="btn btn-sm btn-outline-danger" (click)="removeApartmentAffiliation(aId)">Retirer</button>
                <button class="btn btn-sm btn-primary" (click)="goToApartmentDetail(aId)">Gérer</button>
              </div>
            </div>
          </div>
          <div *ngIf="(!affiliatedApartmentIds || affiliatedApartmentIds.length === 0)" class="muted">Aucun appartement assigné.</div>

          <!-- simplified add area handled by header dependent selects -->
        </div>
      </div>

      <div class="form-actions" style="margin-top:16px; display:flex; gap:8px; justify-content:flex-end;">
        <button class="btn btn-light" (click)="closeAffiliations()">Fermer</button>
      </div>
    </div>
  </div>

  <!-- ===================== MODAL DE SUPPRESSION ===================== -->
  <div *ngIf="showDeleteConfirm" class="modal-overlay">
    <div class="modal-card">
      <h5>Confirmer la suppression</h5>
      <p>Voulez-vous vraiment supprimer ce recouvreur ? Cette action est irréversible.</p>
      <div class="form-actions">
        <button type="button" class="btn btn-light" (click)="showDeleteConfirm = false">Annuler</button>
        <button type="button" class="btn btn-danger" (click)="delete()">Supprimer</button>
      </div>
    </div>
  </div>

  <!-- ===================== MODAL D'ANNULATION DE LOCATION (RECOUVREUR) ===================== -->
  <div *ngIf="showCancellationModal" class="modal-overlay">
    <div class="modal-card large">
      <h5>Annuler la location</h5>
      <p class="warning-text">
        <i class="fas fa-exclamation-triangle"></i>
        Vous êtes sur le point d'annuler une location. Cette action est réservée au recouvreur pour des raisons spécifiques.
      </p>
      
      <div class="cancellation-info">
        <h6>Informations sur l'annulation :</h6>
        <div class="info-item">
          <label>Appartement :</label>
          <span>{{ selectedRentalForCancellation?.apartmentName || '-' }}</span>
        </div>
        <div class="info-item">
          <label>Locataire :</label>
          <span>{{ selectedRentalForCancellation?.tenantName || '-' }}</span>
        </div>
        <div class="info-item">
          <label>Bâtiment :</label>
          <span>{{ selectedRentalForCancellation?.buildingName || '-' }}</span>
        </div>
        <div class="info-item">
          <label>Loyer mensuel :</label>
          <span>{{ selectedRentalForCancellation?.price ? (selectedRentalForCancellation?.price | number) + ' FCFA' : '-' }}</span>
        </div>
      </div>

      <div class="form-group">
        <label for="cancellationReason">Raison de l'annulation <span class="required">*</span></label>
        <textarea 
          id="cancellationReason" 
          [(ngModel)]="cancellationReason" 
          class="form-control" 
          rows="4" 
          placeholder="Veuillez expliquer la raison de l'annulation (non-paiement récurrent, problème de recouvrement, etc.)..."
          required></textarea>
        <div class="error" *ngIf="errors.cancellationReason">
          <i class="fas fa-exclamation-circle"></i> {{ errors.cancellationReason }}
        </div>
        <small class="form-text text-muted">
          En tant que recouvreur, vous pouvez annuler une location en cas de non-paiement récurrent, 
          de problèmes de recouvrement, ou d'autres raisons légitimes liées à votre rôle.
        </small>
      </div>

      <div class="form-group">
        <label>
          <input type="checkbox" [(ngModel)]="acceptCancellationConditions" />
          Je confirme que j'ai une raison légitime d'annuler cette location et que toutes les procédures ont été respectées
        </label>
        <div class="error" *ngIf="errors.cancellationConditions">
          <i class="fas fa-exclamation-circle"></i> {{ errors.cancellationConditions }}
        </div>
      </div>

      <div class="form-actions">
        <button type="button" class="btn btn-light" (click)="closeCancellationModal()">Annuler</button>
        <button type="button" class="btn btn-danger" (click)="confirmCancellation()" [disabled]="!acceptCancellationConditions || !cancellationReason">
          Confirmer l'annulation
        </button>
      </div>
    </div>
  </div>

  <!-- ===================== INFORMATIONS PERSONNELLES ===================== -->
  <div class="form-card">
    <div class="card-header">
      <h5>Informations personnelles</h5>
      <div class="action-buttons">
        <ng-container *ngIf="!editMode">
          <button class="action-btn edit" (click)="enableEdit()" title="Modifier les informations">
            <i class="fas fa-edit"></i>
          </button>
          <button class="action-btn delete" title="Supprimer le recouvreur" (click)="showDeleteConfirm = true">
            <i class="fas fa-trash"></i>
          </button>
        </ng-container>
        <ng-container *ngIf="editMode">
          <button class="action-btn cancel" title="Annuler les modifications" (click)="cancelEdit()">
            <i class="fas fa-times"></i>
          </button>
          <button class="action-btn save" type="button" title="Valider les modifications" (click)="save()">
            <i class="fas fa-check"></i>
          </button>
        </ng-container>
      </div>
    </div>

    <!-- ===================== MODE ÉDITION ===================== -->
    <form *ngIf="editMode" (ngSubmit)="save()" class="collector-form">
      <div class="collector-form-content">

        <!-- Photo et informations personnelles -->
        <div class="collector-profile-section">
          <div class="collector-photo-upload">
            <div class="collector-photo-container">
              <img *ngIf="form.identityImage" [src]="form.identityImage" alt="Photo d'identité" class="collector-photo" />
              <div *ngIf="!form.identityImage" class="collector-avatar">
                <i class="fas fa-user"></i>
              </div>
            </div>
            <div class="image-upload-controls">
              <input type="file" id="identityImage" accept="image/*" (change)="onIdentityImageSelected($event)" class="file-input" />
              <label for="identityImage" class="btn btn-outline-primary btn-sm">
                <i class="fas fa-camera"></i> Changer la photo
              </label>
              <div class="error" *ngIf="errors.identityImage">{{ errors.identityImage }}</div>
            </div>
          </div>

          <!-- Informations personnelles -->
          <div class="collector-info-grid">
            <div class="form-group">
              <div class="input-container">
                <input type="text" id="fullName" [(ngModel)]="form.fullName" name="fullName" class="underline-input" required placeholder=" " />
                <label for="fullName" class="label">
                  <i class="fas fa-user"></i> Nom complet <span class="required">*</span>
                </label>
              </div>
              <div class="error" *ngIf="errors.fullName">
                <i class="fas fa-exclamation-circle"></i> {{ errors.fullName }}
              </div>
            </div>

            <div class="form-group">
              <div class="input-container">
                <input type="text" id="country" [(ngModel)]="form.country" name="country" class="underline-input" required placeholder=" " />
                <label for="country" class="label">
                  <i class="fas fa-globe"></i> Pays <span class="required">*</span>
                </label>
              </div>
              <div class="error" *ngIf="errors.country">
                <i class="fas fa-exclamation-circle"></i> {{ errors.country }}
              </div>
            </div>

            <div class="form-group">
              <div class="input-container">
                <input type="text" id="address" [(ngModel)]="form.address" name="address" class="underline-input" required placeholder=" " />
                <label for="address" class="label">
                  <i class="fas fa-map-marker-alt"></i> Adresse <span class="required">*</span>
                </label>
              </div>
              <div class="error" *ngIf="errors.address">
                <i class="fas fa-exclamation-circle"></i> {{ errors.address }}
              </div>
            </div>

            <div class="form-group">
              <div class="input-container">
                <input type="number" id="houseCount" [value]="assignedHouseCount" name="houseCount" class="underline-input" readonly placeholder=" " />
                <label for="houseCount" class="label">
                  <i class="fas fa-home"></i> Nombre de maisons <span class="required">*</span>
                </label>
              </div>
              <div class="error" *ngIf="errors.assignedHouseCount">
                <i class="fas fa-exclamation-circle"></i> {{ errors.assignedHouseCount }}
              </div>
            </div>

            <div class="form-group">
              <div class="input-container">
                <input type="text" id="phone" [(ngModel)]="form.phone" name="phone" class="underline-input" required placeholder=" " />
                <label for="phone" class="label">
                  <i class="fas fa-phone"></i> Téléphone <span class="required">*</span>
                </label>
              </div>
              <div class="error" *ngIf="errors.phone">
                <i class="fas fa-exclamation-circle"></i> {{ errors.phone }}
              </div>
            </div>

            <div class="form-group">
              <div class="input-container">
                <input type="email" id="email" [(ngModel)]="form.email" name="email" class="underline-input" required placeholder=" " />
                <label for="email" class="label">
                  <i class="fas fa-envelope"></i> Email <span class="required">*</span>
                </label>
              </div>
              <div class="error" *ngIf="errors.email">
                <i class="fas fa-exclamation-circle"></i> {{ errors.email }}
              </div>
            </div>
          </div>
        </div>

        <!-- Zones assignées -->
        <div class="zones-section" *ngIf="assignedZones.length > 0">
          <h6>Zones assignées</h6>
          <div class="zones-grid">
            <div *ngFor="let zone of assignedZones" class="zone-card">
              <div class="zone-header">
                <h6>{{ zone.name }}</h6>
                <span class="apartments-count">{{ zone.apartmentCount }} appartements</span>
              </div>
              <div class="zone-stats">
                <span class="stat">{{ zone.collectedPayments }} payés</span>
                <span class="stat">{{ zone.pendingPayments }} en attente</span>
              </div>
            </div>
          </div>
        </div>

      </div>
    </form>

    <!-- ===================== MODE VISUALISATION ===================== -->
    <div *ngIf="!editMode" class="collector-details">
      <div class="collector-view-content">
        <div class="collector-profile-section">
          <div class="collector-photo-display">
            <div class="collector-photo-container">
              <img *ngIf="collector?.identityImage" [src]="collector?.identityImage" alt="Photo d'identité" class="collector-photo" />
              <div *ngIf="!collector?.identityImage" class="collector-avatar">
                <i class="fas fa-user"></i>
              </div>
            </div>
            <div class="collector-status">
              <span class="status-badge status-active" *ngIf="isCollectorActive()">Recouvreur actif</span>
              <span class="status-badge status-completed" *ngIf="!isCollectorActive()">Ancien recouvreur</span>
            </div>
          </div>
          <div class="collector-info-display">
            <div class="details-grid">
              <div class="info-item">
                <label><i class="fas fa-user"></i> Nom complet</label>
                <p class="info-value">{{ collector?.fullName || '-' }}</p>
              </div>
              <div class="info-item">
                <label><i class="fas fa-globe"></i> Pays</label>
                <p class="info-value">{{ collector?.country || '-' }}</p>
              </div>
              <div class="info-item">
                <label><i class="fas fa-map-marker-alt"></i> Adresse</label>
                <p class="info-value">{{ collector?.address || '-' }}</p>
              </div>
              <div class="info-item">
                <label><i class="fas fa-home"></i> Nombre de maisons</label>
                <p class="info-value">{{ assignedHouseCount || '0' }}</p>
              </div>
              <div class="info-item">
                <label><i class="fas fa-phone"></i> Téléphone</label>
                <p class="info-value">
                  <a [href]="'tel:' + collector?.phone" class="phone-link">
                    {{ collector?.phone || '-' }}
                  </a>
                </p>
              </div>
              <div class="info-item">
                <label><i class="fas fa-envelope"></i> Email</label>
                <p class="info-value">
                  <a [href]="'mailto:' + collector?.email" class="email-link">
                    {{ collector?.email || '-' }}
                  </a>
                </p>
              </div>
            </div>
          </div>
        </div>
        <!-- Contracts for collector -->
        <div class="contracts-card" *ngIf="collectorOwnerCollectorContracts && collectorOwnerCollectorContracts.length">
          <div class="card-header"><h5>Contrats (Recouvreur ↔ Propriétaire)</h5></div>
          <div class="card-body">
            <div *ngFor="let c of collectorOwnerCollectorContracts" class="contract-row">
              <div class="contract-summary">Mandat: {{ c.mandateStart || '-' }} → {{ c.mandateEnd || '-' }} • {{ c.commissionType === 'percent' ? (c.commissionValue + '%') : (c.commissionValue + ' FCFA') }}</div>
              <div class="contract-actions">
                <button class="btn btn-outline-primary btn-sm" (click)="openContractPreview(c)">Aperçu du contrat</button>
                <a class="btn btn-success btn-sm" [href]="c.contractFileUrl" download *ngIf="c.contractFileUrl">Télécharger contrat</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ===================== PERFORMANCE ===================== -->
  <div class="form-card" *ngIf="collectorPayments.length > 0">
    <div class="card-header">
      <h5>Performance du mois</h5>
    </div>
    <div class="performance-section">
      <div class="performance-stats">
        <div class="performance-item">
          <div class="performance-value">{{ currentMonthCollection | number }} Fcfa</div>
          <div class="performance-label">Recouvré ce mois</div>
        </div>
        <div class="performance-item">
          <div class="performance-value">{{ successRate }}%</div>
          <div class="performance-label">Taux de réussite</div>
        </div>
        <div class="performance-item">
          <div class="performance-value">{{ averageCollectionTime }}j</div>
          <div class="performance-label">Délai moyen</div>
        </div>
      </div>
    </div>
  </div>

  <!-- ===================== STATISTIQUES ===================== -->
  <div class="form-card">
    <div class="card-header">
      <h5>Statistiques</h5>
    </div>
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-icon primary">
          <i class="fas fa-home"></i>
        </div>
        <div class="stat-content">
          <h3 (click)="openAffiliations()" style="cursor: pointer;" title="Gérer les maisons assignées">{{ assignedHouseCount || 0 }}</h3>
          <p (click)="openAffiliations()" style="cursor: pointer;" title="Gérer les maisons assignées">Maisons assignées</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon success">
          <i class="fas fa-check-circle"></i>
        </div>
        <div class="stat-content">
          <h3>{{ completedPayments }}</h3>
          <p>Paiements recouvrés</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon warning">
          <i class="fas fa-clock"></i>
        </div>
        <div class="stat-content">
          <h3>{{ pendingPayments }}</h3>
          <p>Paiements en attente</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon info">
          <i class="fas fa-percentage"></i>
        </div>
        <div class="stat-content">
          <h3>{{ successRate }}%</h3>
          <p>Taux de réussite</p>
        </div>
      </div>
    </div>
  </div>

  <!-- ===================== FACTURES ET PAIEMENTS ===================== -->
  <div class="form-card payments-card">
    <div class="card-header">
      <h5>Factures et paiements</h5>
      <div class="payment-summary">
        <div class="summary-item">
          <span class="label">Total recouvré:</span>
          <span class="amount success">{{ totalCollected | number }} Fcfa</span>
        </div>
        <div class="summary-item">
          <span class="label">Total en attente:</span>
          <span class="amount warning">{{ totalPending | number }} Fcfa</span>
        </div>
        <div class="summary-item">
          <span class="label">Paiements ce mois:</span>
          <span class="amount info">{{ currentMonthPayments | number }} Fcfa</span>
        </div>
      </div>
    </div>

    <!-- Filtres et actions -->
    <div class="table-controls">
      <div class="filters">
        <!-- Boutons switch pour les statuts de paiement -->
        <div class="payment-status-filters">
          <button 
            class="status-filter-btn" 
            [class.active]="!statusFilter || statusFilter === ''"
            (click)="statusFilter = ''; applyFilters()">
            <i class="fas fa-list"></i> Tous
          </button>
          <button 
            class="status-filter-btn status-paid" 
            [class.active]="statusFilter === 'paid'"
            (click)="statusFilter = 'paid'; applyFilters()">
            <i class="fas fa-check-circle"></i> Payé
          </button>
          <button 
            class="status-filter-btn status-pending" 
            [class.active]="statusFilter === 'pending'"
            (click)="statusFilter = 'pending'; applyFilters()">
            <i class="fas fa-clock"></i> En attente
          </button>
          <button 
            class="status-filter-btn status-overdue" 
            [class.active]="statusFilter === 'overdue'"
            (click)="statusFilter = 'overdue'; applyFilters()">
            <i class="fas fa-exclamation-triangle"></i> En retard
          </button>
          <button 
            class="status-filter-btn status-active" 
            [class.active]="statusFilter === 'active'"
            (click)="statusFilter = 'active'; applyFilters()">
            <i class="fas fa-play-circle"></i> En cours
          </button>
        </div>

        <select [(ngModel)]="periodFilter" (change)="applyFilters()" class="filter-select">
          <option value="">Toutes les périodes</option>
          <option value="current-month">Ce mois</option>
          <option value="last-month">Mois dernier</option>
          <option value="current-year">Cette année</option>
        </select>

        <button class="btn btn-outline-primary btn-sm" (click)="exportPayments()">
          <i class="fas fa-download"></i> Exporter
        </button>
      </div>

      <div class="search-box">
        <i class="fas fa-search"></i>
        <input type="text" [(ngModel)]="searchTerm" (input)="applyFilters()" placeholder="Rechercher un appartement..." />
      </div>
    </div>

    <!-- Tableau des paiements -->
    <div class="table-container">
      <table class="data-table">
        <thead>
          <tr>
            <th>Période</th>
            <th>Montant</th>
            <th>Date échéance</th>
            <th>Date paiement</th>
            <th>Mode</th>
            <th>Statut</th>
            <th>Appartement</th>
            <th>Locataire</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let payment of filteredPayments" 
              [class.overdue]="isPaymentOverdue(payment)" 
              [class.paid]="payment.status === 'paid'">
            <td>
              <strong>{{ payment.period }}</strong>
              <div class="payment-reference" *ngIf="payment.reference">Ref: {{ payment.reference }}</div>
            </td>
            <td class="amount-cell">
              <span class="amount">{{ payment.amount | number }} Fcfa</span>
            </td>
            <td>
              {{ payment.dueDate | date:'dd/MM/yyyy' }}
              <div class="date-diff" *ngIf="getDaysUntilDue(payment) > 0">
                {{ getDaysUntilDue(payment) }} jour(s)
              </div>
            </td>
            <td>
              <span *ngIf="payment.paymentDate">{{ payment.paymentDate | date:'dd/MM/yyyy' }}</span>
              <span *ngIf="!payment.paymentDate" class="text-muted">-</span>
            </td>
            <td>
              <span class="payment-method" [class]="payment.method?.toLowerCase()">
                <i [class]="getMethodIcon(payment.method)"></i>
                {{ payment.method }}
              </span>
            </td>
            <td>
              <span class="status-badge" [class]="getStatusClass(payment.status)">
                <i [class]="getStatusIcon(payment.status)"></i>
                {{ getStatusText(payment.status) }}
              </span>
            </td>
            <td>
              <div class="apartment-info">
                <strong>{{ payment.apartment }}</strong>
                <div class="apartment-details" *ngIf="payment.building">
                  {{ payment.building }}
                </div>
              </div>
            </td>
            <td>
              <div class="tenant-info">
                {{ payment.tenant }}
                <div class="tenant-contact" *ngIf="payment.tenantPhone">
                  {{ payment.tenantPhone }}
                </div>
              </div>
            </td>
            <td>
              <div class="action-buttons compact">
                <button *ngIf="payment.status !== 'paid'" 
                        class="btn-icon btn-success sm" 
                        title="Marquer comme payé"
                        (click)="markAsPaid(payment)">
                  <i class="fas fa-check"></i>
                </button>
                <button class="btn-icon btn-primary sm" 
                        title="Voir les détails"
                        (click)="viewPaymentDetails(payment)">
                  <i class="fas fa-eye"></i>
                </button>
                <button class="btn-icon btn-light sm" 
                        title="Envoyer un rappel"
                        (click)="sendReminder(payment)">
                  <i class="fas fa-bell"></i>
                </button>
                <button *ngIf="payment.status !== 'paid' && (payment.rentalId || payment.raw?.rentalId) && isRentalActiveForCancellation(payment.rentalId || payment.raw?.rentalId)" 
                        class="btn-icon btn-danger sm" 
                        title="Annuler la location"
                        (click)="openCancellationModal(payment.rentalId || payment.raw?.rentalId)"
                        style="display: inline-block;">
                  <i class="fas fa-times"></i>
                </button>
              </div>
            </td>
          </tr>

          <!-- Message aucun paiement -->
          <tr *ngIf="filteredPayments.length === 0">
            <td colspan="9" class="no-data">
              <div class="no-data-content">
                <i class="fas fa-receipt"></i>
                <h6>Aucun paiement trouvé</h6>
                <p *ngIf="hasActiveFilters">Aucun paiement ne correspond à vos critères de recherche.</p>
                <p *ngIf="!hasActiveFilters">Aucun paiement enregistré pour ce recouvreur.</p>
              </div>
            </td>
          </tr>

        </tbody>
      </table>
    </div>

    <!-- Pagination -->
    <div class="table-pagination" *ngIf="filteredPayments.length > 0">
      <div class="pagination-info">
        Affichage de {{ getDisplayRange() }}
      </div>
      <div class="pagination-controls">
        <button class="btn btn-light btn-sm" 
                [disabled]="currentPage === 1"
                (click)="previousPage()">
          <i class="fas fa-chevron-left"></i> Précédent
        </button>
        <span class="page-numbers">
          Page {{ currentPage }} sur {{ totalPages }}
        </span>
        <button class="btn btn-light btn-sm"
                [disabled]="currentPage === totalPages"
                (click)="nextPage()">
          Suivant <i class="fas fa-chevron-right"></i>
        </button>
      </div>
    </div>

  </div>
</div>